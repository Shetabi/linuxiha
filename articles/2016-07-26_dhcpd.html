<!DOCTYPE html><html lang="fa"><head><link rel="manifest" href="/linuxiha/manifest.json"/><link rel="apple-touch-icon" href="/linuxiha/icon-512x512.png"/><link rel="apple-touch-icon" sizes="180x180" href="/linuxiha/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/linuxiha/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/linuxiha/favicon-16x16.png"/><meta name="msapplication-TileColor" content="#ce1919"/><meta name="theme-color" content="#ce1919"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:type" content="website"/><meta property="og:locale" content="fa_IR"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>راه اندازی DHCP Server در لینوکس</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="آموزش راه اندازی DHCP Server در لینوکس"/><meta property="og:url" content="/articles/[slug]"/><meta property="og:title" content="راه اندازی DHCP Server در لینوکس"/><meta property="og:description" content="آموزش راه اندازی DHCP Server در لینوکس"/><meta property="og:image" content="https://shetabi.github.io/linuxiha/images/dhcpd-linux.jpg"/><meta property="og:image:alt" content="راه اندازی DHCP Server در لینوکس"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:site_name" content="Linuxiha"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://shetabi.github.io/linuxiha/articles/2016-07-26_dhcpd"
    },
    "headline": "راه اندازی DHCP Server در لینوکس",
    "image": [
      "https://shetabi.github.io/linuxiha/images/dhcpd-linux.jpg"
     ],
    "datePublished": "Tue Jul 26 2016 00:00:00 GMT+0000",
    "dateModified": "Tue Jul 26 2016 00:00:00 GMT+0000",
    "author": {"@type": "Person","name": "رضا معصوم‌وند"},
    "publisher": {
      "@type": "Organization",
      "name": "Linuxiha",
      "logo": {
        "@type": "ImageObject",
        "url": "https://shetabi.github.io/linuxiha/images/logo.png"
      }
    },
    "description": "آموزش راه اندازی DHCP Server در لینوکس"
  }</script><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://shetabi.github.io/linuxiha",
          "name": "لینوکسی ها"
        }
      },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "/linuxiha/learning",
          "name": "آموزشی"
        }
      },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://shetabi.github.io/linuxiha/articles/2016-07-26_dhcpd",
          "name": "راه اندازی DHCP Server در لینوکس"
        }
      }
     ]
  }</script><meta name="next-head-count" content="21"/><link rel="preload" href="/linuxiha/_next/static/css/994d05cfd08c9504.css" as="style"/><link rel="stylesheet" href="/linuxiha/_next/static/css/994d05cfd08c9504.css" data-n-g=""/><link rel="preload" href="/linuxiha/_next/static/css/15017f5b47a17df2.css" as="style"/><link rel="stylesheet" href="/linuxiha/_next/static/css/15017f5b47a17df2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/linuxiha/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/linuxiha/_next/static/chunks/webpack-be8ce13bde5a1037.js" defer=""></script><script src="/linuxiha/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/linuxiha/_next/static/chunks/main-d8378e38f83709b8.js" defer=""></script><script src="/linuxiha/_next/static/chunks/pages/_app-83428007a475fbdb.js" defer=""></script><script src="/linuxiha/_next/static/chunks/895-6255772e747cfd4e.js" defer=""></script><script src="/linuxiha/_next/static/chunks/120-f6cbf353236bf041.js" defer=""></script><script src="/linuxiha/_next/static/chunks/151-2230793e3639a1ed.js" defer=""></script><script src="/linuxiha/_next/static/chunks/pages/articles/%5Bslug%5D-a73beb958da58954.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_buildManifest.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_ssgManifest.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_middlewareManifest.js" defer=""></script></head><body dir="rtl" lang="fa"><div id="__next" data-reactroot=""><header class="header_container__U9LUF"><h2></h2><nav class="header_navbar__58BhK"><a href="/linuxiha">خانه</a><a href="/linuxiha/news">خبری</a><a href="/linuxiha/learning">آموزشی</a><a href="/linuxiha/about">درباره ما</a></nav><figure class="header_logo__Q4_m9"><img src="/linuxiha/images/logo.png" alt="linuxiha-logo"/></figure></header><div class="MuiPaper-root article_article__3tTrV MuiPaper-elevation1 MuiPaper-rounded"><img src="/linuxiha/images/dhcpd-linux.jpg" alt="راه اندازی DHCP Server در لینوکس"/><h1>راه اندازی DHCP Server در لینوکس</h1><div class="MuiCardHeader-root"><div class="MuiCardHeader-avatar"><div class="MuiAvatar-root MuiAvatar-circle article_avatar__ukeMN" aria-label="article"><img alt="رضا معصوم‌وند" src="authors/user.png" class="MuiAvatar-img"/></div></div><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-body2 MuiTypography-displayBlock">رضا معصوم‌وند</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock">۵ سال قبل - زمان خواندن ۵ دقیقه</span></div></div><section class="article_content__5RXjl"><p>همان‌طور که می‌دانید، دو کامپیوتر در شبکه برای برقرای ارتباط با یکدیگر نیاز به یک IP آدرس یونیک و   مختص به خود را دارند. به‌طور کلی برای یک هاست در شبکه دو راه برای بدست آوردن این آدرس وجود دارد:</p>
<ol>
<li>تنظیم به‌صورت دستی: که در این روش می‌بایست روی تمامی سیستم‌ها اطلاعات مربوط به IP به‌صورت دستی وارد شود.</li>
<li>دریافت به‌صورت اتوماتیک: با استفاده از پروتکل DHCP که در آن یک سیستم شبکه درخواست دریافت تنظیمات مربوطه به IP را اعلام می‌کند و این درخواست توسط یک سرویس دهنده DHCP در شبکه پاسخ داده می‌شود.</li>
</ol>
<p>توسط پروتکل DHCP شما قادر خواهید بود موارد زیر را روی سیستم‌های شبکه خود به‌صورت خودکار تنظیم نمایید.</p>
<ul>
<li>آدرس IP و Subnet  </li>
<li>آدرس سرویس دهنده دامنه (DNS)  </li>
<li>آدرس دروازه شبکه (Gateway)  </li>
<li>آدرس Wins Server (برای کلاینت های مایکروسافتی)  </li>
<li>و ..</li>
</ul>
<p>در این آموزش به نحوه نصب و راه اندازی سرویس DHCP در لینوکس خواهیم پرداخت.</p>
<p>برای نصب سرویس دهنده DHCP به‌صورت زیر عمل می کنیم.</p>
<p>برای سیستم‌های مبتنی دبیان:</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>apt-get install dhcp3-server  </span></code></pre></pre>
<p>برای سیستم‌های مبتنی بر ردهت:</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>yum install dhcp  </span></code></pre></pre>
<p>به‌صورت پیش‌فرض پیکربندی سرویس دهنده DHCP فاقد تنظیمات لازم برای ارایه سرویس به شبکه هست که می‌بایست با ویرایش فایل <code></code> این سرویس را پیکربندی نمود.</p>
<p>برای تعریف یک Subnet جهت ارایه سرویس در آن می‌بایست مانند مثال زیر تعاریف مربوط را به فایل <code></code> اضافه نمود.</p>
<p>برای مثال:</p>
<pre><code></code></pre>
<p>که در اینجا ما یک subnet با آدرس شبکه <code></code> و mask با آدرس <code></code> تعریف نموده‌ایم. همچنین توسط عبارت range می‌توانیم رنج آدرس‌های IP قابل تخصیص توسط سرویس دهنده را مشخص نمایید که در مثال بالا از آدرس <code></code> الی <code></code> قابل ارایه در این subnet است.</p>
<p>تا اینجا سرویس‌دهنده‌ی ما برای ارائه آدرس IP پیکربندی شده است. ولی سیستم‌های شبکه علاوه بر آدرس IP نیاز به تنظیمات دیگری نظیر آدرس سرویس دهنده DNS و همچنین آدرس Gateway شبکه دارند که برای اضافه نمودن آن‌ها بصورت زیر عمل می‌کنیم.</p>
<pre><code></code></pre>
<p>که در اینجا عبارت <code></code>  آدرس سرویس دهنده DNS را مشخص می‌کند و  عبارت <code></code> آدرس Gateway شبکه را مشخص می‌کند.</p>
<p>*‌نکته)‌ آدرس‌های ارائه شده توسط سرویس دهنده به‌صورت leased  می‌باشد و پس از اتمام مدت زمان پیشفرض یا تعریف شده در سرویس دهنده، آن آدرس از سرویس گیرنده گرفته می‌شود و همچنین به‌دلیل ماهیت dynamic پروتکل ممکن است آدرسی که زمانی به هاست شما تخصیص داده شده به هاست دیگری در شبکه تخصیص داده شود.</p>
<p>برای تغییر مدت زمان پیشفرض اجاره (lease) می‌توانیم بصورت زیر عمل کنیم.</p>
<pre><code></code></pre>
<p>که در اینجا مقدار مقابل عبارت <code></code> مدت زمان اجاره پیش‌فرض تنظیمات و <code></code> حداکثر زمان اجاره بر حسب ثانیه را مشخص می‌کند.</p>
<p> شاید شما بخواهید که برای یک هاست خاص در شبکه (برای مثال: پرینتر شبکه ) آدرس IP را رزرو کنید تا همیشه آن آدرس برای هاست مورد نظرتان تخصیص داده شود.</p>
<pre><code></code></pre>
<p>که در اینجا  عبارت host نام هاست مورد نظر را مشخص می کند. عبارت <code></code> آدرس لایه ۲ یا همان mac Address هاست شما را مشخص می‌کند و در نهایت <code></code> آدرسی است که می‌خواهید برای آن هاست رزرو بشود را مشخص می‌کنیم.</p>
<p> در پایان سرویس دهنده DHCP را یکبار restart می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>/etc/init.d/isc-dhcp-server restart  </span></code></pre></pre></section><div class="progress_root__9c0MC"><div class="MuiLinearProgress-root MuiLinearProgress-colorPrimary MuiLinearProgress-determinate" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="MuiLinearProgress-bar MuiLinearProgress-barColorPrimary MuiLinearProgress-bar1Determinate" style="transform:translateX(100%)"></div></div></div></div><nav id="navbar" class="menu_menu-container__g5R7v"><a class="menu_menu-item__EhBCd" href="/linuxiha"><img src="/linuxiha/icons/home.png" alt="home"/> <span>خانه</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/news"><img src="/linuxiha/icons/news.png" alt="news"/> <span>خبری</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/learning"><img src="/linuxiha/icons/article.png" alt="article"/> <span>آموزشی</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/about"><img src="/linuxiha/icons/info.png" alt="info"/> <span>درباره ما</span> <aside></aside></a></nav></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"slug":"2016-07-26_dhcpd","layout":"post","jdate":"Tue Jul 26 2016 00:00:00 GMT+0000","user":"rmasoumvand","title":"راه اندازی DHCP Server در لینوکس","categories":["آموزشی"],"tags":["شبکه","سرور"],"featured":"dhcpd-linux.jpg","keywords":["dhcp","linux dhcp server","dhcp لینوکس"],"description":"آموزش راه اندازی DHCP Server در لینوکس","timeToRead":5,"content":"\nهمان‌طور که می‌دانید، دو کامپیوتر در شبکه برای برقرای ارتباط با یکدیگر نیاز به یک IP آدرس یونیک و   مختص به خود را دارند. به‌طور کلی برای یک هاست در شبکه دو راه برای بدست آوردن این آدرس وجود دارد:\n\n1.  تنظیم به‌صورت دستی: که در این روش می‌بایست روی تمامی سیستم‌ها اطلاعات مربوط به IP به‌صورت دستی وارد شود.\n2.  دریافت به‌صورت اتوماتیک: با استفاده از پروتکل DHCP که در آن یک سیستم شبکه درخواست دریافت تنظیمات مربوطه به IP را اعلام می‌کند و این درخواست توسط یک سرویس دهنده DHCP در شبکه پاسخ داده می‌شود.\n\nتوسط پروتکل DHCP شما قادر خواهید بود موارد زیر را روی سیستم‌های شبکه خود به‌صورت خودکار تنظیم نمایید.\n\n*   آدرس IP و Subnet  \n*   آدرس سرویس دهنده دامنه (DNS)  \n*   آدرس دروازه شبکه (Gateway)  \n*   آدرس Wins Server (برای کلاینت های مایکروسافتی)  \n*   و ..\n\nدر این آموزش به نحوه نصب و راه اندازی سرویس DHCP در لینوکس خواهیم پرداخت.\n\nبرای نصب سرویس دهنده DHCP به‌صورت زیر عمل می کنیم.\n\nبرای سیستم‌های مبتنی دبیان:\n\n```sh  \napt-get install dhcp3-server  \n```\n\nبرای سیستم‌های مبتنی بر ردهت:\n\n```sh  \nyum install dhcp  \n```\n\nبه‌صورت پیش‌فرض پیکربندی سرویس دهنده DHCP فاقد تنظیمات لازم برای ارایه سرویس به شبکه هست که می‌بایست با ویرایش فایل `etc/dhcp/dhcpd.conf/` این سرویس را پیکربندی نمود.\n\nبرای تعریف یک Subnet جهت ارایه سرویس در آن می‌بایست مانند مثال زیر تعاریف مربوط را به فایل `dhcpd.conf ` اضافه نمود.\n\nبرای مثال:\n\n```\nsubnet 10.1.1.0 netmask 255.255.255.0 {    \n  range 10.1.1.3 10.1.1.254;    \n}  \n```\n\nکه در اینجا ما یک subnet با آدرس شبکه `10.10.10.0` و mask با آدرس `255.255.255.0` تعریف نموده‌ایم. همچنین توسط عبارت range می‌توانیم رنج آدرس‌های IP قابل تخصیص توسط سرویس دهنده را مشخص نمایید که در مثال بالا از آدرس `10.1.1.3` الی `10.1.1.254` قابل ارایه در این subnet است.\n\nتا اینجا سرویس‌دهنده‌ی ما برای ارائه آدرس IP پیکربندی شده است. ولی سیستم‌های شبکه علاوه بر آدرس IP نیاز به تنظیمات دیگری نظیر آدرس سرویس دهنده DNS و همچنین آدرس Gateway شبکه دارند که برای اضافه نمودن آن‌ها بصورت زیر عمل می‌کنیم.\n\n```\nsubnet 10.1.1.0 netmask 255.255.255.0 {    \n  range 10.1.1.3 10.1.1.254;    \n  option domain-name-servers 10.1.1.1, 8.8.8.8;    \n  option routers 10.1.1.1;    \n}    \n```\n\nکه در اینجا عبارت `option domain-name-servers`  آدرس سرویس دهنده DNS را مشخص می‌کند و  عبارت `option routers` آدرس Gateway شبکه را مشخص می‌کند.\n\n*‌نکته)‌ آدرس‌های ارائه شده توسط سرویس دهنده به‌صورت leased  می‌باشد و پس از اتمام مدت زمان پیشفرض یا تعریف شده در سرویس دهنده، آن آدرس از سرویس گیرنده گرفته می‌شود و همچنین به‌دلیل ماهیت dynamic پروتکل ممکن است آدرسی که زمانی به هاست شما تخصیص داده شده به هاست دیگری در شبکه تخصیص داده شود.\n\nبرای تغییر مدت زمان پیشفرض اجاره (lease) می‌توانیم بصورت زیر عمل کنیم.\n\n```\ndefault-lease-time 600;    \nmax-lease-time 7200;\n\nsubnet 10.1.1.0 netmask 255.255.255.0 {    \n  range 10.1.1.3 10.1.1.254;    \n}  \n```\n\nکه در اینجا مقدار مقابل عبارت `default-lease-time` مدت زمان اجاره پیش‌فرض تنظیمات و `max-lease-time` حداکثر زمان اجاره بر حسب ثانیه را مشخص می‌کند.\n\n شاید شما بخواهید که برای یک هاست خاص در شبکه (برای مثال: پرینتر شبکه ) آدرس IP را رزرو کنید تا همیشه آن آدرس برای هاست مورد نظرتان تخصیص داده شود.\n\n```\nhost printer {    \n  hardware ethernet 00:16:d3:b7:8f:86;    \n  fixed-address 10.1.1.100;    \n}  \n```\n\nکه در اینجا  عبارت host نام هاست مورد نظر را مشخص می کند. عبارت `hardware ethernet` آدرس لایه ۲ یا همان mac Address هاست شما را مشخص می‌کند و در نهایت `fixed-address` آدرسی است که می‌خواهید برای آن هاست رزرو بشود را مشخص می‌کنیم.\n\n در پایان سرویس دهنده DHCP را یکبار restart می‌کنیم.\n\n```sh  \n/etc/init.d/isc-dhcp-server restart  \n```\n"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"2016-07-26_dhcpd"},"buildId":"UlrhO1Nrloe8puAi1Ej19","assetPrefix":"/linuxiha","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>