<!DOCTYPE html><html lang="fa"><head><link rel="manifest" href="/linuxiha/manifest.json"/><link rel="apple-touch-icon" href="/linuxiha/icon-512x512.png"/><link rel="apple-touch-icon" sizes="180x180" href="/linuxiha/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/linuxiha/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/linuxiha/favicon-16x16.png"/><meta name="msapplication-TileColor" content="#ce1919"/><meta name="theme-color" content="#ce1919"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:type" content="website"/><meta property="og:locale" content="fa_IR"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>گذاشتن رمز روی grub2</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="آموزش گذاشتن رمز روی grub2"/><meta property="og:url" content="/articles/[slug]"/><meta property="og:title" content="گذاشتن رمز روی grub2"/><meta property="og:description" content="آموزش گذاشتن رمز روی grub2"/><meta property="og:image" content="https://shetabi.github.io/linuxiha/images/grub2-password.jpg"/><meta property="og:image:alt" content="گذاشتن رمز روی grub2"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:site_name" content="Linuxiha"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://shetabi.github.io/linuxiha/articles/2016-07-31_grub2-password"
    },
    "headline": "گذاشتن رمز روی grub2",
    "image": [
      "https://shetabi.github.io/linuxiha/images/grub2-password.jpg"
     ],
    "datePublished": "Sun Jul 31 2016 00:00:00 GMT+0000",
    "dateModified": "Sun Jul 31 2016 00:00:00 GMT+0000",
    "author": {"@type": "Person","name": "رضا معصوم‌وند"},
    "publisher": {
      "@type": "Organization",
      "name": "Linuxiha",
      "logo": {
        "@type": "ImageObject",
        "url": "https://shetabi.github.io/linuxiha/images/logo.png"
      }
    },
    "description": "آموزش گذاشتن رمز روی grub2"
  }</script><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://shetabi.github.io/linuxiha",
          "name": "لینوکسی ها"
        }
      },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "/linuxiha/learning",
          "name": "آموزشی"
        }
      },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://shetabi.github.io/linuxiha/articles/2016-07-31_grub2-password",
          "name": "گذاشتن رمز روی grub2"
        }
      }
     ]
  }</script><meta name="next-head-count" content="21"/><link rel="preload" href="/linuxiha/_next/static/css/994d05cfd08c9504.css" as="style"/><link rel="stylesheet" href="/linuxiha/_next/static/css/994d05cfd08c9504.css" data-n-g=""/><link rel="preload" href="/linuxiha/_next/static/css/15017f5b47a17df2.css" as="style"/><link rel="stylesheet" href="/linuxiha/_next/static/css/15017f5b47a17df2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/linuxiha/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/linuxiha/_next/static/chunks/webpack-be8ce13bde5a1037.js" defer=""></script><script src="/linuxiha/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/linuxiha/_next/static/chunks/main-d8378e38f83709b8.js" defer=""></script><script src="/linuxiha/_next/static/chunks/pages/_app-83428007a475fbdb.js" defer=""></script><script src="/linuxiha/_next/static/chunks/895-6255772e747cfd4e.js" defer=""></script><script src="/linuxiha/_next/static/chunks/120-f6cbf353236bf041.js" defer=""></script><script src="/linuxiha/_next/static/chunks/151-2230793e3639a1ed.js" defer=""></script><script src="/linuxiha/_next/static/chunks/pages/articles/%5Bslug%5D-a73beb958da58954.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_buildManifest.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_ssgManifest.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_middlewareManifest.js" defer=""></script></head><body dir="rtl" lang="fa"><div id="__next" data-reactroot=""><header class="header_container__U9LUF"><h2></h2><nav class="header_navbar__58BhK"><a href="/linuxiha">خانه</a><a href="/linuxiha/news">خبری</a><a href="/linuxiha/learning">آموزشی</a><a href="/linuxiha/about">درباره ما</a></nav><figure class="header_logo__Q4_m9"><img src="/linuxiha/images/logo.png" alt="linuxiha-logo"/></figure></header><div class="MuiPaper-root article_article__3tTrV MuiPaper-elevation1 MuiPaper-rounded"><img src="/linuxiha/images/grub2-password.jpg" alt="گذاشتن رمز روی grub2"/><h1>گذاشتن رمز روی grub2</h1><div class="MuiCardHeader-root"><div class="MuiCardHeader-avatar"><div class="MuiAvatar-root MuiAvatar-circle article_avatar__ukeMN" aria-label="article"><img alt="رضا معصوم‌وند" src="authors/user.png" class="MuiAvatar-img"/></div></div><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-body2 MuiTypography-displayBlock">رضا معصوم‌وند</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock">۵ سال قبل - زمان خواندن ۵ دقیقه</span></div></div><section class="article_content__5RXjl"><p>در مطلب «<a href="http://linuxihaa.ir/%D8%A8%D8%A7%D8%B2%DB%8C%D8%A7%D8%A8%DB%8C-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%D8%AA-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/">بازیابی رمز روت لینوکس</a>» نحوه بازیابی کلمه عبور کاربر ریشه را از طریق تغییر دادن پارامترهای بوت کرنل در گراب توضیح دادیم. برای امنیت بیشتر می‌توانیم آیتم‌های grub2 را توسط رمز عبور محافظت کنیم. در این آموزش به نحوه رمزگذاری دسترسی برای گزینه‌های grub2 خواهیم پرداخت.</p>
<p>ابتدا توسط یک ویرایشگر متنی فایل <code></code> را ویرایش می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo gedit /etc/grub.d/40_custom  </span></code></pre></pre>
<p>سپس خطوط زیر را به انتهای آن اضافه می‌کنیم.</p>
<pre><code></code></pre>
<p>که در اینجا منظور از <code></code> نام کاربری و <code></code> رمز عبور انتخابی شما است. از آنجایی که در روش فوق رمز عبور کاربر بصورت Clear Text ذخیره می‌شود برای امنیت بیشتر می‌توانیم رمز عبور را رمزگذاری کنیم.</p>
<p>برای این کار به‌صورت زیر عمل می‌کنیم.</p>
<p>ابتدا می‌بایست توسط دستور زیر یک کلمه عبور رمزگذاری شده ایجاد کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>grub-mkpasswd-pbkdf2  </span></code></pre></pre>
<p>پس از اجرای دستور فوق از شما رمز عبور مورد نظرتان برای رمزگذاری پرسیده می‌شود و درنهایت نسخه رمزگذاری شده کلمه عبور شما را نمایش می‌دهد.</p>
<p>سپس مجدداً فایل <code></code> را ویرایش نموده و این بار به‌جای کلمه عبور Clear Text کلمه عبور رمزگذاری شده را به‌صورت زیر وارد نمایید.</p>
<pre><code></code></pre>
<p>که در اینجا منظور از <code></code> کلمه عبور رمزگذاری تولید شده است.</p>
<p>سپس فایل <code></code> را با یک ویرایشگر متنی ویرایش می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo gedit /etc/grub.d/10_linux  </span></code></pre></pre>
<p>و عبارت <code></code> را انتهای خط زیر اضافه می‌کنیم.</p>
<pre><code></code></pre>
<p>سپس برای اعمال تغییرات دستور زیر را وارد می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>update-grub  </span></code></pre></pre></section><div class="progress_root__9c0MC"><div class="MuiLinearProgress-root MuiLinearProgress-colorPrimary MuiLinearProgress-determinate" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="MuiLinearProgress-bar MuiLinearProgress-barColorPrimary MuiLinearProgress-bar1Determinate" style="transform:translateX(100%)"></div></div></div></div><nav id="navbar" class="menu_menu-container__g5R7v"><a class="menu_menu-item__EhBCd" href="/linuxiha"><img src="/linuxiha/icons/home.png" alt="home"/> <span>خانه</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/news"><img src="/linuxiha/icons/news.png" alt="news"/> <span>خبری</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/learning"><img src="/linuxiha/icons/article.png" alt="article"/> <span>آموزشی</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/about"><img src="/linuxiha/icons/info.png" alt="info"/> <span>درباره ما</span> <aside></aside></a></nav></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"slug":"2016-07-31_grub2-password","layout":"post","jdate":"Sun Jul 31 2016 00:00:00 GMT+0000","user":"rmasoumvand","title":"گذاشتن رمز روی grub2","categories":["آموزشی"],"tags":["حریم‌شخصی","پیکربندی"],"featured":"grub2-password.jpg","keywords":["رمز روی grub2","grub2 password"],"description":"آموزش گذاشتن رمز روی grub2","timeToRead":5,"content":"\nدر مطلب «[بازیابی رمز روت لینوکس](http://linuxihaa.ir/%D8%A8%D8%A7%D8%B2%DB%8C%D8%A7%D8%A8%DB%8C-%D8%B1%D9%85%D8%B2-%D8%B1%D9%88%D8%AA-%D9%84%DB%8C%D9%86%D9%88%DA%A9%D8%B3/)» نحوه بازیابی کلمه عبور کاربر ریشه را از طریق تغییر دادن پارامترهای بوت کرنل در گراب توضیح دادیم. برای امنیت بیشتر می‌توانیم آیتم‌های grub2 را توسط رمز عبور محافظت کنیم. در این آموزش به نحوه رمزگذاری دسترسی برای گزینه‌های grub2 خواهیم پرداخت.\n\nابتدا توسط یک ویرایشگر متنی فایل `etc/grub.d/40_custom/` را ویرایش می‌کنیم.\n\n```sh  \nsudo gedit /etc/grub.d/40_custom  \n```\n\nسپس خطوط زیر را به انتهای آن اضافه می‌کنیم.\n\n```  \nset superusers=”USER”  \npassword USER PASSWORD  \n```\n\nکه در اینجا منظور از `USER‍‍‍‍` نام کاربری و `PASSWORD` رمز عبور انتخابی شما است. از آنجایی که در روش فوق رمز عبور کاربر بصورت Clear Text ذخیره می‌شود برای امنیت بیشتر می‌توانیم رمز عبور را رمزگذاری کنیم.\n\nبرای این کار به‌صورت زیر عمل می‌کنیم.\n\nابتدا می‌بایست توسط دستور زیر یک کلمه عبور رمزگذاری شده ایجاد کنیم.\n\n```sh  \ngrub-mkpasswd-pbkdf2  \n```\n\nپس از اجرای دستور فوق از شما رمز عبور مورد نظرتان برای رمزگذاری پرسیده می‌شود و درنهایت نسخه رمزگذاری شده کلمه عبور شما را نمایش می‌دهد.\n\nسپس مجدداً فایل `etc/grub.d/40_custom/` را ویرایش نموده و این بار به‌جای کلمه عبور Clear Text کلمه عبور رمزگذاری شده را به‌صورت زیر وارد نمایید.\n\n```  \npassword USER grub.pbkdf2 ENCRYPTED PASSWORD  \n```\n\nکه در اینجا منظور از `ENCRYPTED PASSWORD` کلمه عبور رمزگذاری تولید شده است.\n\nسپس فایل `etc/grub.d/10_linux/` را با یک ویرایشگر متنی ویرایش می‌کنیم.\n\n```sh  \nsudo gedit /etc/grub.d/10_linux  \n```\n\nو عبارت `unrestricted--` را انتهای خط زیر اضافه می‌کنیم.\n\n``` \nCLASS=\"--class gnu-linux --class gnu --class os --unrestricted\"  \n```\n\nسپس برای اعمال تغییرات دستور زیر را وارد می‌کنیم.\n\n```sh  \nupdate-grub  \n```\n"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"2016-07-31_grub2-password"},"buildId":"UlrhO1Nrloe8puAi1Ej19","assetPrefix":"/linuxiha","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>