<!DOCTYPE html><html lang="fa"><head><link rel="manifest" href="/linuxiha/manifest.json"/><link rel="apple-touch-icon" href="/linuxiha/icon-512x512.png"/><link rel="apple-touch-icon" sizes="180x180" href="/linuxiha/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/linuxiha/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/linuxiha/favicon-16x16.png"/><meta name="msapplication-TileColor" content="#ce1919"/><meta name="theme-color" content="#ce1919"/><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:type" content="website"/><meta property="og:locale" content="fa_IR"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>راه اندازی سرویس Samba در لینوکس</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="آموزش راه اندازی سرویس Samba در لینوکس"/><meta property="og:url" content="/articles/[slug]"/><meta property="og:title" content="راه اندازی سرویس Samba در لینوکس"/><meta property="og:description" content="آموزش راه اندازی سرویس Samba در لینوکس"/><meta property="og:image" content="https://shetabi.github.io/linuxiha/images/samba-server-linux.jpg"/><meta property="og:image:alt" content="راه اندازی سرویس Samba در لینوکس"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:site_name" content="Linuxiha"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://shetabi.github.io/linuxiha/articles/2016-07-28_samba"
    },
    "headline": "راه اندازی سرویس Samba در لینوکس",
    "image": [
      "https://shetabi.github.io/linuxiha/images/samba-server-linux.jpg"
     ],
    "datePublished": "Thu Jul 28 2016 00:00:00 GMT+0000",
    "dateModified": "Thu Jul 28 2016 00:00:00 GMT+0000",
    "author": {"@type": "Person","name": "رضا معصوم‌وند"},
    "publisher": {
      "@type": "Organization",
      "name": "Linuxiha",
      "logo": {
        "@type": "ImageObject",
        "url": "https://shetabi.github.io/linuxiha/images/logo.png"
      }
    },
    "description": "آموزش راه اندازی سرویس Samba در لینوکس"
  }</script><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://shetabi.github.io/linuxiha",
          "name": "لینوکسی ها"
        }
      },{
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "/linuxiha/learning",
          "name": "آموزشی"
        }
      },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://shetabi.github.io/linuxiha/articles/2016-07-28_samba",
          "name": "راه اندازی سرویس Samba در لینوکس"
        }
      }
     ]
  }</script><meta name="next-head-count" content="21"/><link rel="preload" href="/linuxiha/_next/static/css/994d05cfd08c9504.css" as="style"/><link rel="stylesheet" href="/linuxiha/_next/static/css/994d05cfd08c9504.css" data-n-g=""/><link rel="preload" href="/linuxiha/_next/static/css/15017f5b47a17df2.css" as="style"/><link rel="stylesheet" href="/linuxiha/_next/static/css/15017f5b47a17df2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/linuxiha/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/linuxiha/_next/static/chunks/webpack-be8ce13bde5a1037.js" defer=""></script><script src="/linuxiha/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/linuxiha/_next/static/chunks/main-d8378e38f83709b8.js" defer=""></script><script src="/linuxiha/_next/static/chunks/pages/_app-83428007a475fbdb.js" defer=""></script><script src="/linuxiha/_next/static/chunks/895-6255772e747cfd4e.js" defer=""></script><script src="/linuxiha/_next/static/chunks/120-f6cbf353236bf041.js" defer=""></script><script src="/linuxiha/_next/static/chunks/151-2230793e3639a1ed.js" defer=""></script><script src="/linuxiha/_next/static/chunks/pages/articles/%5Bslug%5D-a73beb958da58954.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_buildManifest.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_ssgManifest.js" defer=""></script><script src="/linuxiha/_next/static/UlrhO1Nrloe8puAi1Ej19/_middlewareManifest.js" defer=""></script></head><body dir="rtl" lang="fa"><div id="__next" data-reactroot=""><header class="header_container__U9LUF"><h2></h2><nav class="header_navbar__58BhK"><a href="/linuxiha">خانه</a><a href="/linuxiha/news">خبری</a><a href="/linuxiha/learning">آموزشی</a><a href="/linuxiha/about">درباره ما</a></nav><figure class="header_logo__Q4_m9"><img src="/linuxiha/images/logo.png" alt="linuxiha-logo"/></figure></header><div class="MuiPaper-root article_article__3tTrV MuiPaper-elevation1 MuiPaper-rounded"><img src="/linuxiha/images/samba-server-linux.jpg" alt="راه اندازی سرویس Samba در لینوکس"/><h1>راه اندازی سرویس Samba در لینوکس</h1><div class="MuiCardHeader-root"><div class="MuiCardHeader-avatar"><div class="MuiAvatar-root MuiAvatar-circle article_avatar__ukeMN" aria-label="article"><img alt="رضا معصوم‌وند" src="authors/user.png" class="MuiAvatar-img"/></div></div><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-body2 MuiTypography-displayBlock">رضا معصوم‌وند</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-displayBlock">۵ سال قبل - زمان خواندن ۵ دقیقه</span></div></div><section class="article_content__5RXjl"><p>Samba یک ابزار بسیار قدرتمند است که به وسیله آن می‌توان سرویس‌های اشتراک فایل و پرینتر را برای کلاینت‌های مایکروسافتی ارائه نمود. علاوه بر این می‌توان از آن به عنوان یک دامین کنترلر در شبکه‌های مبتنی بر Windows Server Domain استفاده نمود. همچنین از نسخه چهارم این نرم‌افزار به بعد امکان پشتیبانی از Active Directory و دامین‌های Windows NT فراهم شده است.</p>
<p>در این آموزش به نحوه نصب و راه اندازی این سرویس و همچنین اشتراک گذاری منابع توسط سرویس Samba برای کلاینت‌های مایکروسافتی و لینوکسی خواهیم پرداخت.</p>
<p>برای نصب سرویس دهنده Samba دستور زیر را وارد می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo apt install samba  </span></code></pre></pre>
<p>سپس برای اعمال تنظیمات می‌بایست فایل <code></code> را با یک ویرایش‌گر متنی ویرایش کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo gedit /etc/samba/smb.conf  </span></code></pre></pre>
<p>فایل smb.conf دارای بخش‌های مختلفی است که در ادامه به توضییح آن‌ها می‌پردازیم.</p>
<ul>
<li><code></code>: در این بخش پیکربندی کلی و مورد استفاده در تمامی بخش‌ها تعریف می گردد.</li>
<li><code></code>: یک اشتراک را تعریف می‌کند.</li>
<li><code></code>: در این بخش پرینترهای اشتراک گذاشته تعریف می‌شوند.</li>
<li><code></code>: دایرکتوری home کاربران اشتراک گذاشته تعریف می‌شوند.</li>
</ul>
<p>در داخل هرکدام از این بخش‌ها پارامترهایی وجود دارد که هر پارامتر می‌تواند مقداری مانند true, false, yes, no و یا یک رشته یا مسیر داشته باشد.</p>
<p>در ادامه به توضیح برخی از این پارامتر ها می پردازیم.</p>
<ul>
<li>browseable: تعیین می‌کند که اشتراک مورد نظرمان می‌تواند Browse شود و یا خیر.</li>
<li>comment: متن توضیح که در کنار اشتراک یا سرویس نمایش داده می‌شود.</li>
<li>create mask: برای تبدیل مجوزهای ویندوز به یونیکس/لینوکس در هنگام ایجاد فایل به‌کار می‌رود. مقدار پیشفرض برابر 0744 است.</li>
<li>directory mask: برای تبدیل مجوزهای ویندوز به یونیکس/لینوکس در هنگام ایجاد دایرکتوری به‌کار می‌رود. مقدار پیش‌فرض برابر 755 است.</li>
<li>encrypt passwords: تعیین می‌کند که در هنگام Authentication بین سرویس دهنده و سرویس گیرنده کلمات عبور رمزنگاری شوند یا خیر.</li>
<li>security: این گزینه مشخص می‌کند که کاربران چگونه به سرویس دهنده متصل شده و احراز هویت شوند. مقدار پیش‌فرض برابر user است.</li>
<li>read only: امکان ویرایش فایل‌ها توسط کاربران را مشخص می‌کند.</li>
<li>invalid users: این کاربران تعریف شده قادر نخواهند بود به سیستم وارد شوند.</li>
<li>workgroup: تعیین کننده نام شبکه Workgroup است.</li>
<li>server string: نام سرویس دهنده را در سیستم‌های سرویس گیرنده مشخص می‌کند.</li>
<li>interfaces: آدرس‌هایی را که مجاز به برقراری ارتباط با سرویس دهنده هستند را مشخص می‌کند.</li>
<li>printable: امکان ارسال چاپ توسط کاربر به سرویس دهنده را مشخص می‌کند.</li>
<li>و …</li>
</ul>
<p>قبل از اشتراک گذاری می‌بایست کاربرانمان را در سرویس دهنده تعریف نماییم. که به‌صورت زیر عمل می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo smbpasswd -L -a USER NAME  </span></code></pre></pre>
<p>که در اینجا <code></code> نام کاربر مورد نظر شماست.</p>
<p>برای اشتراک‌گذاری یک دایرکتوری به‌صورت زیر عمل می کنیم.</p>
<pre><code></code></pre>
<p>در مثال فوق یک دایرکتوری با نام My Share و در مسیر <code></code> و با دسترسی فقط خواندنی تعریف نمودیم.</p>
<p>سپس سرویس دهنده را با دستور زیر مجدداً راه اندازی می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>systemctl restart samba-ad-dc.service  </span></code></pre></pre>
<p>جهت بررسی وضعیت سرویس دهنده و منابع اشتراک گذاشته شده می‌توانیم از دستور زیر استفاده کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>smbclient -L SERVER  </span></code></pre></pre>
<p>که در اینجا <code></code> می‌تواند نام و یا آدرس آی‌پی سرویس دهنده باشد.</p>
<ul>
<li>نکته)‌ جهت استفاده از ابزار smbclient می‌بایست ابتدا آن را توسط دستور زیر روی سرویس‌گیرندهای لینوکسی نصب نمود.</li>
</ul>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo apt install smbclient  </span></code></pre></pre>
<p>جهت ماونت نمودن یک اشتراک می‌توانیم بصورت زیر عمل کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>mount –t cifs //SERVER IP/SHARE /mnt –o username=USER NAME,workgroup=WORKGROUP NAME  </span></code></pre></pre>
<p>که در اینجا <code></code> آدرس اشتراک ما و <code></code> آدرس مسیری است که می‌بایست در آنجا ماونت شود و <code></code> نام کاربری و <code></code> هم نام گروه کاری شما را مشخص می‌کند.</p>
<p>*‌نکته)‌ جهت ماونت کردن فایل‌سیستم‌های Samba نیاز به ابزار <code></code> داریم که می‌بایست روی سرویس‌گیرنده‌های لینوکسی نصب کنیم که برای برای نصب <code></code> دستور زیر را وارد می‌کنیم.</p>
<pre><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-sh" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>sudo apt install cifs-utils  </span></code></pre></pre></section><div class="progress_root__9c0MC"><div class="MuiLinearProgress-root MuiLinearProgress-colorPrimary MuiLinearProgress-determinate" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="MuiLinearProgress-bar MuiLinearProgress-barColorPrimary MuiLinearProgress-bar1Determinate" style="transform:translateX(100%)"></div></div></div></div><nav id="navbar" class="menu_menu-container__g5R7v"><a class="menu_menu-item__EhBCd" href="/linuxiha"><img src="/linuxiha/icons/home.png" alt="home"/> <span>خانه</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/news"><img src="/linuxiha/icons/news.png" alt="news"/> <span>خبری</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/learning"><img src="/linuxiha/icons/article.png" alt="article"/> <span>آموزشی</span> <aside></aside></a><a class="menu_menu-item__EhBCd" href="/linuxiha/about"><img src="/linuxiha/icons/info.png" alt="info"/> <span>درباره ما</span> <aside></aside></a></nav></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"slug":"2016-07-28_samba","layout":"post","jdate":"Thu Jul 28 2016 00:00:00 GMT+0000","user":"rmasoumvand","title":"راه اندازی سرویس Samba در لینوکس","categories":["آموزشی"],"tags":["شبکه","پیکربندی"],"featured":"samba-server-linux.jpg","keywords":["samba","samba لینوکس","samba server","samba server لینوکس"],"description":"آموزش راه اندازی سرویس Samba در لینوکس","timeToRead":5,"content":"\nSamba یک ابزار بسیار قدرتمند است که به وسیله آن می‌توان سرویس‌های اشتراک فایل و پرینتر را برای کلاینت‌های مایکروسافتی ارائه نمود. علاوه بر این می‌توان از آن به عنوان یک دامین کنترلر در شبکه‌های مبتنی بر Windows Server Domain استفاده نمود. همچنین از نسخه چهارم این نرم‌افزار به بعد امکان پشتیبانی از Active Directory و دامین‌های Windows NT فراهم شده است.\n\nدر این آموزش به نحوه نصب و راه اندازی این سرویس و همچنین اشتراک گذاری منابع توسط سرویس Samba برای کلاینت‌های مایکروسافتی و لینوکسی خواهیم پرداخت.\n\nبرای نصب سرویس دهنده Samba دستور زیر را وارد می‌کنیم.\n\n```sh  \nsudo apt install samba  \n```\n\nسپس برای اعمال تنظیمات می‌بایست فایل `etc/samba/smb.conf/` را با یک ویرایش‌گر متنی ویرایش کنیم.\n\n```sh  \nsudo gedit /etc/samba/smb.conf  \n```\n\nفایل smb.conf دارای بخش‌های مختلفی است که در ادامه به توضییح آن‌ها می‌پردازیم.\n\n*   `[global]`: در این بخش پیکربندی کلی و مورد استفاده در تمامی بخش‌ها تعریف می گردد.\n*   `[share]`: یک اشتراک را تعریف می‌کند.\n*   `[printers]`: در این بخش پرینترهای اشتراک گذاشته تعریف می‌شوند.\n*   `[homes]`: دایرکتوری home کاربران اشتراک گذاشته تعریف می‌شوند.\n\nدر داخل هرکدام از این بخش‌ها پارامترهایی وجود دارد که هر پارامتر می‌تواند مقداری مانند true, false, yes, no و یا یک رشته یا مسیر داشته باشد.\n\nدر ادامه به توضیح برخی از این پارامتر ها می پردازیم.\n\n*   browseable: تعیین می‌کند که اشتراک مورد نظرمان می‌تواند Browse شود و یا خیر.\n*   comment: متن توضیح که در کنار اشتراک یا سرویس نمایش داده می‌شود.\n*   create mask: برای تبدیل مجوزهای ویندوز به یونیکس/لینوکس در هنگام ایجاد فایل به‌کار می‌رود. مقدار پیشفرض برابر 0744 است.\n*   directory mask: برای تبدیل مجوزهای ویندوز به یونیکس/لینوکس در هنگام ایجاد دایرکتوری به‌کار می‌رود. مقدار پیش‌فرض برابر 755 است.\n*   encrypt passwords: تعیین می‌کند که در هنگام Authentication بین سرویس دهنده و سرویس گیرنده کلمات عبور رمزنگاری شوند یا خیر.\n*   security: این گزینه مشخص می‌کند که کاربران چگونه به سرویس دهنده متصل شده و احراز هویت شوند. مقدار پیش‌فرض برابر user است.\n*   read only: امکان ویرایش فایل‌ها توسط کاربران را مشخص می‌کند.\n*   invalid users: این کاربران تعریف شده قادر نخواهند بود به سیستم وارد شوند.\n*   workgroup: تعیین کننده نام شبکه Workgroup است.\n*   server string: نام سرویس دهنده را در سیستم‌های سرویس گیرنده مشخص می‌کند.\n*   interfaces: آدرس‌هایی را که مجاز به برقراری ارتباط با سرویس دهنده هستند را مشخص می‌کند.\n*   printable: امکان ارسال چاپ توسط کاربر به سرویس دهنده را مشخص می‌کند.\n*   و …\n\nقبل از اشتراک گذاری می‌بایست کاربرانمان را در سرویس دهنده تعریف نماییم. که به‌صورت زیر عمل می‌کنیم.\n\n```sh  \nsudo smbpasswd -L -a USER NAME  \n```\n\nکه در اینجا `USER NAME` نام کاربر مورد نظر شماست.\n\nبرای اشتراک‌گذاری یک دایرکتوری به‌صورت زیر عمل می کنیم.\n\n```  \n[My Share]  \n path = /home/reza/my_share  \n browseable = yes  \n read only = yes  \n```\n\nدر مثال فوق یک دایرکتوری با نام My Share و در مسیر `home/reza/my_share/` و با دسترسی فقط خواندنی تعریف نمودیم.\n\nسپس سرویس دهنده را با دستور زیر مجدداً راه اندازی می‌کنیم.\n\n```sh  \nsystemctl restart samba-ad-dc.service  \n```\n\nجهت بررسی وضعیت سرویس دهنده و منابع اشتراک گذاشته شده می‌توانیم از دستور زیر استفاده کنیم.\n\n```sh  \nsmbclient -L SERVER  \n```\n\nکه در اینجا `SERVER` می‌تواند نام و یا آدرس آی‌پی سرویس دهنده باشد.\n\n* نکته)‌ جهت استفاده از ابزار smbclient می‌بایست ابتدا آن را توسط دستور زیر روی سرویس‌گیرندهای لینوکسی نصب نمود.\n\n```sh  \nsudo apt install smbclient  \n```\n\nجهت ماونت نمودن یک اشتراک می‌توانیم بصورت زیر عمل کنیم.\n\n```sh  \nmount –t cifs //SERVER IP/SHARE /mnt –o username=USER NAME,workgroup=WORKGROUP NAME  \n```\n\nکه در اینجا `SERVER IP/SHARE//` آدرس اشتراک ما و `mnt/` آدرس مسیری است که می‌بایست در آنجا ماونت شود و `USER NAME` نام کاربری و `WORKGROUP NAME` هم نام گروه کاری شما را مشخص می‌کند.\n\n*‌نکته)‌ جهت ماونت کردن فایل‌سیستم‌های Samba نیاز به ابزار `cifs-utils` داریم که می‌بایست روی سرویس‌گیرنده‌های لینوکسی نصب کنیم که برای برای نصب `cifs-utils` دستور زیر را وارد می‌کنیم.\n\n```sh  \nsudo apt install cifs-utils  \n```\n"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"2016-07-28_samba"},"buildId":"UlrhO1Nrloe8puAi1Ej19","assetPrefix":"/linuxiha","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>